<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Product App</title>
</head>
<body>

    <div>
        <h2>Product</h2>
    </div>
    <div>
        <h2>Search by ID</h2>
        
            id:<input type="text" id="prodId" size="5" /><br />
            Nazwa:<input type="text" id="name" size="15" /><br />
            Kategoria:<input type="text" id="category" size="15" /><br />
            Cena:<input type="text" id="price" size="5" /><br />
            <input type="button" value="Search" onclick="find();" />
            <input type="button" value="Update" onclick="update();" />
            <p id="product" />
        
    </div>

    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.3.min.js"></script>
    <script>
    var uri = 'api/products';
    function find() {
      var id = $('#prodId').val();
      $.getJSON(uri + '/' + id)
          .done(function (data) {
              //alert( JSON.stringify(data) );
              $('#name').val(data.Name);
              $('#category').val(data.Category);
              $('#price').val(data.Price);
          })
          .fail(function (jqXHR, textStatus, err) {
            $('#product').text('Error: ' + err);
          });
    }
    
    function update() {
        var _data = new Object();
        _data.Id = $('#prodId').val();
        _data.Name = $('#name').val();
        _data.Category = $('#category').val();
        _data.Price = $('#price').val();
        //alert(JSON.stringify(_data));

        $.ajax({
            dataType: 'json',
            type: 'PUT',
            contentType: 'application/json',
            url: uri + '/' + _data.Id,
            data: JSON.stringify(_data),
            success: function (result) {
                $('#product').text('Wysłano: ');
            },
            failure: function (err) {
                $('#product').text('Error: ' + err);
            }

        });
    }
   
    </script>
</body>
</html>